<!DOCTYPE html>
<html ng-app="unitConverter">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Unit Converter</title>
    <link href="dist/css/custom.css" rel="stylesheet">
    <link href="dist/css/bootstrap.css" rel="stylesheet"/>
    <link href="dist/css/ct-paper.css" rel="stylesheet"/>
    <link href="dist/css/demo.css" rel="stylesheet"/>

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script> <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> <![endif]-->
  </head>
  <body ng-controller="UnitController as converter">
    <script src="dist/js/angular.min.js" type="text/javascript"></script>
    <script src="app.js" type="text/javascript"></script>
    <script src="app-converter.js" type="text/javascript"></script>
    <script src="app-storage.js" type="text/javascript"></script>
    <div class="wrapper">
      <div class="main">
        <div class="section">
          <div class="container tim-container">
            <div class="tim-title">
              <h2>Convert</h2>
            </div>
            <div class="row" id="big-row">
              <div class="col-lg-6 col-md-offset-3">
                <select class="dropdown-toggle btn btn-primary" ng-model="converter.currentType">
                  <option class="dropdown-toggle" ng-repeat="(key, value) in converter.c" value="{{key}}">{{key}}</option>
                </select>
              </div>
            </div>
            <div class="row" id="big-row">
              <div class="input-group">
                <div class="col-sm-3">
                  <div class="row">
                    <input class="form-control" ng-change="converter.updateMagnitudes(1)" ng-model="converter.firstMagnitude" step="any" type="number">
                  </div>
                  <div class="row">
                    <label class="checkbox" for="checkbox1">
                      <input data-toggle="checkbox" id="checkbox1" ng-change="converter.toggleFavorite(converter.currentType, converter.currentFirstUnit, converter.c[converter.currentType][converter.currentFirstUnit].favorite)" ng-disabled="converter.currentFirstUnit == null" ng-model="converter.c[converter.currentType][converter.currentFirstUnit].favorite" type="checkbox"/>
                      Favorite
                    </label>
                  </div>
                </div>
                <div class="col-sm-3">
                  <select class="dropdown-toggle btn btn-primary" ng-change="converter.updateMagnitudes(2)" ng-model="converter.currentFirstUnit" required>
                    <option ng-if="false" value=""></option>
                    <option ng-repeat="(key, value) in converter.c[converter.currentType]" value="{{key}}">{{key}}</option>
                  </select>
                </div>
                <div class="col-sm-3">
                  <div class="row">
                    <input class="form-control" ng-change="converter.updateMagnitudes(2)" ng-model="converter.secondMagnitude" step="any" type="number">
                  </div>
                  <div class="row">
                    <label class="checkbox" for="checkbox2">
                      <input data-toggle="checkbox" id="checkbox2" ng-change="converter.toggleFavorite(converter.currentType, converter.currentSecondUnit, converter.c[converter.currentType][converter.currentSecondUnit].favorite)" ng-disabled="converter.currentSecondUnit == null" ng-model="converter.c[converter.currentType][converter.currentSecondUnit].favorite" type="checkbox"/>
                      Favorite
                    </label>
                  </div>
                </div>

                <div class="col-sm-3">
                  <select class="dropdown-toggle btn btn-primary" ng-change="converter.updateMagnitudes(1)" ng-model="converter.currentSecondUnit" required>
                    <option ng-if="false" value=""></option>
                    <option ng-repeat="(key, value) in converter.c[converter.currentType]" value="{{key}}">{{key}}</option>
                  </select>
                </div>

              </div>
            </div>

            <div class="tim-title">
              <h3>
                Favorite
                {{converter.currentType}}
                units</h3>
            </div>
          </div>

        </div>
        <div class="main">
          <div class="section section-dark">
            <div class="container tim-container">
              <div class="tim-title">
                <h2>Add conversion</h2>
              </div>
              <form name="newConversion" ng-controller="UnitFormController as unitFormCtrl" ng-submit="newConversion.$valid && unitFormCtrl.addConversion()">
                <select class="dropdown-toggle btn btn-fill btn-danger" id="add-conversion" ng-model="unitFormCtrl.selectedType" required>
                  <option ng-repeat="(key, value) in converter.c" value="{{key}}">{{key}}</option>
                </select>
                <div class="row" id="big-row">
                  <div class="col-lg-3">
                    <div class="col-lg-10">
                      <input class="form-control" ng-model="unitFormCtrl.firstUnit" placeholder="Unit name" required type="text">
                    </div>
                    <div class="col-lg-2">
                      <p>
                        =
                      </p>
                    </div>
                  </div>
                  <div class="col-lg-3">
                    <div class="col-lg-10">
                      <input class="form-control" ng-model="unitFormCtrl.slope" placeholder="m" required step="any" type="number">
                    </div>
                    <div class="col-lg-2">
                      &times;
                    </div>
                  </div>
                  <div class="col-lg-3">
                    <div class="col-lg-10">
                      <input class="form-control" ng-model="unitFormCtrl.secondUnit" placeholder="Unit name" required type="text">
                    </div>
                    <div class="col-lg-2">
                      +
                    </div>
                  </div>
                  <div class="col-lg-3">
                    <input class="form-control" ng-model="unitFormCtrl.intercept" placeholder="c" required type="number">
                  </div>
                </div>

                <div class="row" id="big-row">
                  Adding convertion to
                  {{unitFormCtrl.selectedType}}:
                  {{"1 " + unitFormCtrl.firstUnit + " = " + unitFormCtrl.slope +" &times; " +
                      unitFormCtrl.secondUnit + " + " + unitFormCtrl.intercept
                      }}
                </div>
                <div class="row text-center" id="big-row">
                  <input class="btn btn-fill btn-success" ng-disabled="!newConversion.$valid" type="submit" value="Submit"/>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="dist/js/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="dist/js/jquery-ui-1.10.4.custom.min.js" type="text/javascript"></script>

    <script src="dist/js/bootstrap.js" type="text/javascript"></script>

    <!--  Plugins -->
    <script src="dist/js/ct-paper-checkbox.js"></script>
    <script src="dist/js/ct-paper-radio.js"></script>
    <script src="dist/js/bootstrap-select.js"></script>
    <script src="dist/js/bootstrap-datepicker.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?sensor=false" type="text/javascript"></script>

    <script src="dist/js/ct-paper.js"></script>

  </body>
</html>
